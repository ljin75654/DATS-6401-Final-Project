<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link href="style.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Titillium+Web' rel='stylesheet' type='text/css'>
  </head>
  <body>

  <div id="mySidebar" class="sidebar">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="index.html">Home</a>
    <a href="dataset.html">Dataset</a>
    <a href="analysis.html">Analysis</a>
    <a href="report.html">Report</a>
    <a href="visual.html">Visualization</a>
    <a href="contributors.html">Contributors</a>
  </div>
    
  <div id="main">

  <div class="container">
    <img src="images/restaurantheader.jpg" alt="Restaurant Header" style="width:100%;">
    <button class="openbtn" onclick="openNav()">&#9776; Menu</button>
  </div>

  <section id="about">
    <div class="container">
      <div class="row">
        <div class="title-area">
          <h2 class="title">DENSITY BY COUNTRY</h2>
	  <p>Here, I'm creating Choropleth world maps to look at restaurant density by country.</p>
	  <h3 class="subtitle">DENSITY OF RESTAURANTS BY COUNTRY</h3>
	  <p>The plot below shows the country locations and the number of restaurants for each. It 
			becomes clear right away that India has a disproportionally large number of restaurants 
			compared to the others. <br /> <br /> <img src="images/country_num.png" alt="alt text"></p>
	  <h3 class="subtitle">TOP 3 CUISINE (DENSITY OF RESTAURANT BY COUNTRY)</h3>
	  <p>There are some quick conclusions to be made. It was made clear before that India has the highest 
		  overall density, but now we can see that it has the highest density of restaurants for all 
		  3 of the most prevalent cuisines. We also expected for there to be many Chinese and Fast Food 
		  restaurants. But still, there is a large disparity shown here between Indian cuisine and other 
		  cuisine types. But since we are only looking at 15 countries and the data doesn't 
		  account for all restaurants, it's still too early to make definitive conclusions.</p>
	  <h3 class="subtitle">Indian Cuisine</h3>
	  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
          <script type="text/javascript">
            google.charts.load('current', {
              'packages':['geochart'],
              'mapsApiKey': 'AIzaSyCBBo2p9zV0LwFdRQJnN3l_59-BZS34de4'
            });
            google.charts.setOnLoadCallback(drawMap);
            function drawMap() {
              var data = google.visualization.arrayToDataTable([
                ['Country', 'Number'],
                ['Brazil', 1],
                ['India', 4191],
                ['Philippines', 2],
                ['Qatar', 8],
                ['Singapore', 1],
                ['South Africa', 2],
		['Sri Lanka', 3],
		['UAE', 26],
		['United Kingdom', 17],
		['United States', 8]
              ]);
              var options = {
	        colorAxis: {colors: ['#C973E9', 'pink']}
	      };
              var chart = new google.visualization.GeoChart(document.getElementById('indian_density'));
              chart.draw(data, options);
            }
          </script>
          <div id="indian_density" style="width: 900px; height: 500px;"></div>
	  <br />
          <h3 class="subtitle">Chinese Cuisine</h3>
          <script type="text/javascript">
            google.charts.setOnLoadCallback(drawMap);
            function drawMap() {
              var data = google.visualization.arrayToDataTable([
                ['Country', 'Number'],
                ['Canada', 1],
                ['India', 2688],
                ['New Zealand', 1],
                ['Philippines', 1],
                ['Qatar', 3],
                ['Singapore', 3],
		['Sri Lanka', 3],
		['UAE', 9],
		['United Kingdom', 2],
		['United States', 22]
              ]);
              var options = {
	        colorAxis: {colors: ['#C973E9', 'pink']}
	      };
              var chart = new google.visualization.GeoChart(document.getElementById('chinese_density'));
              chart.draw(data, options);
            }
          </script>
          <div id="chinese_density" style="width: 900px; height: 500px;"></div>
          <br />
          <h3 class="subtitle">Fast Food Cuisine</h3>
          <script type="text/javascript">
            google.charts.setOnLoadCallback(drawMap);
            function drawMap() {
              var data = google.visualization.arrayToDataTable([
                ['Country', 'Number'],
                ['Brazil', 3],
                ['India', 1963],
                ['New Zealand', 1],
                ['Singapore', 1],
                ['South Africa', 1],
		['Sri Lanka', 3],
		['UAE', 5],
		['United Kingdom', 4],
		['United States', 6]
              ]);
              var options = {
	        colorAxis: {colors: ['#C973E9', 'pink']}
	      };
              var chart = new google.visualization.GeoChart(document.getElementById('ff_density'));
              chart.draw(data, options);
            }
          </script>
          <div id="ff_density" style="width: 900px; height: 500px;"></div>
          <h2 class="title">PRICE/RATING</h2>
	  <p>Here, I'm creating a bar chart to look at average price and rating for each country.</p>
	  <h3 class="subtitle">AVERAGE PRICE AND RATING BY COUNTRY</h3>
	  <p>Here, I'm interested in seeing if there is any correlation to be found between price and 
		  rating. Also, there may be an effect on these two features depending on the country, so 
		  it is important to make judgements based on previous information on restaurant density 
		  for each country.</p>
	  <script type="text/javascript">
	    google.charts.load('current', {'packages':['bar']});
	    google.charts.setOnLoadCallback(drawChart);

	    function drawChart() {
	      var data = google.visualization.arrayToDataTable([
	        ['Country', 'Price', 'Rating'],
		['Australia', 2.12, 3.66],
		['Brazil', 3.40, 3.76],
		['Canada', 2.50, 3.58],
		['India', 1.72, 2.52],
		['Indonesia', 2.95, 4.30],
		['New Zealand', 3.15, 4.26],
		['Philippines', 3.36, 4.47],
		['Qatar', 3.65, 4.06],
		['Singapore', 3.65, 3.58],
		['South Africa', 3.58, 4.21],
		['Sri Lanka', 2.85, 3.87],
		['Turkey', 2.82, 4.30],
		['UAE', 3.22, 4.23],
		['United Kingdom', 2.75, 4.09],
		['United States', 2.05, 4.01]
	      ]);
	      var options = {
		chart: {
		  title: 'Average Price and Rating by Country',
		},
		bars: 'horizontal',
		colors: ['pink', '#7570B3'],
		legend: {'position':'top','alignment':'center'},
	      };
	      var chart = new google.charts.Bar(document.getElementById('price_rating'));
	      chart.draw(data, google.charts.Bar.convertOptions(options));
	    }
	  </script>
	  <div id="price_rating" style="width: 900px; height: 500px;"></div>
	  <h2 class="title">BEST RATED</h2>
	  <p>Here, I'm creating bar charts to visualize the best rated restaurants and cuisines for each country.</p>
	  <h3 class="subtitle">BEST RATED RESTAURANTS</h3>
	  <p>Since there are 15 countries to look through, I instead just took the two countries 
			with the greatest number of restaurants (India and United States). We can see some 
			interesting patterns occuring. For India, there's a clear upward trend. We expect there 
			to be less highly rated restaurants, which is about expected. But for the US, we can 
			see that the greatest number of restaurants are around the "Good" range (3.6-4.3). Of course, 
			again we cannot reach any strong conclusions just based off of this, since India has 
			thousands of more sample points than the US.<strong> Click the images below for a closer 
			look:</strong></p>
	    <div class="gallery">
	      <a target="_blank" href="images/best_rated_india.png">
	        <img src="images/best_rated_india.png" alt="Indian Restaurant Ratings" width="800" height="500">
	      </a>
	      <div class="desc">Indian Restaurant Ratings</div>
	    </div>
	    <div class="gallery">
	      <a target="_blank" href="images/best_rated_US.png">
	        <img src="images/best_rated_US.png" alt="US Restaurant Ratings" width="800" height="500">
	      </a>
	      <div class="desc">US Restaurant Ratings</div>
	    </div>
	  <br />
	  <br />
	  <br />
          <br />
	  <br />
	  <br />
	  <br />
	  <br />
	  <br />
          <h2 class="title">City Cuisines</h2>
	  <p>Here, I'm creating 5 pie charts to look at the percentage of cuisine types for the 5 cities with 
		the greatest number of restaurants.</p>
	  <h3 class="subtitle">Cuisine Type Distribution in Cities</h3>
	  <p></p>
	  <script>
	    var width = 960,
	      height = 500,
	      radius = Math.min(width, height) / 2;
	    var color = d3.scale.ordinal()
	      .range(["#D99DEF", "#8A87EF", "#87D3EF", "#60DCC3", "#60DC6C", "#92DC60", "#D1E644", "#F7A831", "#EF7461", "#F386CF", "#C17E8C", "#95929A", "#94B375"]);
	    var arc = d3.svg.arc()
	      .outerRadius(radius - 10)
	      .innerRadius(0);
	    var labelArc = d3.svg.arc()
	      .outerRadius(radius - 40)
	      .innerRadius(radius - 40);
	    var pie = d3.layout.pie()
	      .sort(null)
	      .value(function(d) { return d.population; });
	    var svg = d3.select("body").append("svg")
	      .attr("width", width)
	      .attr("height", height)
	    .append("g")
	      .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");
	    d3.csv("new_delhi_percent.csv", type, function(error, data) {
	      if (error) throw error;
	      console.log(pie(data))
	      var g = svg.selectAll(".arc")
	          .data(pie(data))
	        .enter().append("g")
	          .attr("class", "arc");
	      g.append("path")
	          .attr("d", arc)
	          .style("fill", function(d) { return color(d.data.Cuisine); });
	      g.append("text")
	          .attr("transform", function(d) { return "translate(" + labelArc.centroid(d) + ")"; })
	          .attr("dy", ".35em")
	          .text(function(d) { return d.data.Cuisine; });
	    });
	    function type(d) {
	      d.percent = +d.percent;
	      return d;
	    }
	  </script>
        </div>
      </div>
    </div>
  </section>
	  
  <div class="footer">
    <p>by Lydia Jin</p>
  </div>

  <script>
  function openNav() {
    document.getElementById("main").style.marginLeft = "20%";
    document.getElementById("mySidebar").style.width = "20%";
    document.getElementById("mySidebar").style.display = "block";
  }
  function closeNav() {
    document.getElementById("mySidebar").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
  }
  </script>
  <script src="https://d3js.org/d3.v4.min.js"></script>

  </body>
</html>
